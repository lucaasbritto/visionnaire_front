<div class="container mt-4" >
    <div class="div_conteudo col-md-12 col-lg-8 offset-lg-2">
        <h3 class="text-center">Gerenciar Números de Telefone</h3>
        <div class="d-flex justify-content-end mb-3">
            <a routerLink="./new" class="btn btn-sm btn-primary" title="Adicionar Número"><i class="bi bi-plus"></i></a>
        </div>   
        <div *ngIf="isLoading" class="text-center">
            <div class="spinner-border text-primary" role="status">
              <span class="visually-hidden">Carregando...</span>
            </div>
          </div> 
        <div class="table-responsive">
            <table *ngIf="!isLoading" class="table table-striped table-bordered table-hover table-sm">
                <thead class="thead-dark">
                <tr>
                    <th>#</th>
                    <th>Número</th>
                    <th>Preço Mensal</th>
                    <th>Preço de Aquisição</th>
                    <th>Ações</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let phoneNumber of phoneNumbers">
                    <td>{{ phoneNumber.id }}</td>
                    <td>{{ phoneNumber.value }}</td>
                    <td>{{ phoneNumber.monthlyPrice | currency: phoneNumber.currency }}</td>
                    <td>{{ phoneNumber.setupPrice | currency: phoneNumber.currency }}</td>
                    <td>              
                    <button class="btn btn-warning btn-sm" (click)="carregarDados(phoneNumber)" title="Editar"><i class="bi bi-pencil"></i></button> | 
                    <button class="btn btn-danger btn-sm" (click)="deletePhoneNumber(phoneNumber.id)" title="Excluir"><i class="bi bi-trash"></i></button>
                    </td>
                </tr> 
                </tbody>
            </table>
        </div>

        <nav aria-label="Page navigation">
            <ul class="pagination justify-content-end">
            
            <li class="page-item" [class.disabled]="currentPage === 1">
                <button class="page-link" (click)="changePage(currentPage - 1)">Anterior</button>
            </li>          
            
            <li class="page-item" *ngFor="let page of [].constructor(totalPages); let i = index">
                <button
                class="page-link"
                (click)="changePage(i + 1)"
                [class.active]="currentPage === i + 1">
                {{ i + 1 }}
                </button>
            </li>          
            
            <li class="page-item" [class.disabled]="currentPage === totalPages">
                <button class="page-link" (click)="changePage(currentPage + 1)">Próximo</button>
            </li>
            </ul>
        </nav>     
    </div>
</div>